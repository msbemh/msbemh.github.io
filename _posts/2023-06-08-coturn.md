---
sidebar:
  nav: "docs"
title : STUN-TURN μ„λ²„ λ§λ“¤κΈ°
---

COTURN μ„ μ΄μ©ν•μ—¬ STUN/TURN μ„λ²„ λ§λ“¤κΈ°

---

# coturn κΉƒν—λΈ μ‚¬μ΄νΈ

[https://github.com/coturn/coturn](https://github.com/coturn/coturn)

---

# κ°μΈμ μΈ ν™κ²½ κµ¬μ„±   

AWSμ— ν•΄λ„ λμ§€λ§ κ°μΈμ μΈ νΈκΈ°μ‹¬μ— VMWareμ— Ubuntuλ¥Ό μ„¤μΉν•κ³ ,       
κ³µμ κΈ° ν¬νΈν¬μ›λ”© + VMware ν¬νΈν¬μ›λ”© + λ°©ν™”λ²½ νΉμ • ν¬νΈ ν•΄μ     
μ΄λ ‡κ² λ„¤νΈμ›ν¬ κµ¬μ„±μ„ ν•κ³ 
coturn μ¤ν” μ†μ¤λ¥Ό μ΄μ©ν•΄μ„ λ΅μ»¬ν™κ²½μ—μ„ turn-stun μ„λ²„ κµ¬μ„±ν•΄ λ΄¤μµλ‹λ‹¤.    

https, domain μ μ©μ„ ν•κΈ΄ ν–μ§€λ§, ν•μ§€ μ•μ•„λ„ λ  κ²ƒ κ°™μ•„μ”    
ν…μ¤νΈλ” μ•ν•΄ λ΄¤μµλ‹λ‹¤ π† (λ μ§€ μ•λ μ§€λ” μ λ¨λ¦…λ‹λ‹¤... γ…)    

---

# coturn μ΄λ€   

[https://github.com/coturn/coturn](https://github.com/coturn/coturn)

TURN λ° STUN μ„λ²„μ λ¬΄λ£ μ¤ν” μ†μ¤ κµ¬ν„μ…λ‹λ‹¤.   
TURN μ„λ²„λ” VoIP λ―Έλ””μ–΄ νΈλν”½ NAT ν†µκ³Ό μ„λ²„ λ° κ²μ΄νΈμ›¨μ΄μ…λ‹λ‹¤. 

**<i class="fa fa-info-circle" aria-hidden="true"></i> μ •λ³΄**   
`   
**VoIP(Voice over Internet Protocol)**   
μΈν„°λ„·μ„ ν†µν•΄ μμ„± ν†µν™”λ¥Ό μ „μ†΅ν•λ” κΈ°μ μ„ μλ―Έν•©λ‹λ‹¤.    
VoIP λ―Έλ””μ–΄ νΈλν”½μ€ VoIP ν†µν™” μ‹ λ°μƒν•λ” μμ„± λ° κ΄€λ ¨ λ°μ΄ν„°μ μ „μ†΅μ„ μλ―Έν•©λ‹λ‹¤.    
`   
{: .notice--info}

---

# coturn μ„¤μΉ   

```s
sudo apt-get -y update
sudo apt-get -y install coturn
```

---

# coturn ν™κ²½ μ„¤μ •   
```s
# UDPμ™€ TCPμ— λ€ν• TURN listener ν¬νΈ (κΈ°λ³Έ: 3478)
listening-port=3478
# TLSμ— λ€ν• TURN listener ν¬νΈ (κΈ°λ³Έ: 5349).
tls-listening-port=5349
# VMWare IP : VMWare λ‚΄λ¶€ IP
listening-ip=[VMWare IP]
# μ™Έλ¶€ IP : κ³µμ κΈ° μ™Έλ¶€ IP
# λ‚΄λ¶€ IP : μ»΄ν“¨ν„° λ‚΄λ¶€ IP
external-ip=[μ™Έλ¶€ IP]/[λ‚΄λ¶€ IP]
# UDP λ¦΄λ μ΄ μ—”λ“ν¬μΈνΈ ν¬νΈ λ²”μ„
min-port=49152
max-port=65535

verbose
fingerprint
# long-term credential λ©”μ»¤λ‹μ¦ μ΄μ©
lt-cred-mech
user=[μ‚¬μ©μ]:[λΉ„λ°€λ²νΈ]
realm=[λ„λ©”μΈ]
syslog
```

---

# ν¬νΈν¬μ›λ”© μ„¤μ •   

UDP, TCPλ§ μ‚¬μ©ν•λ ¤λ©΄ `3478` ν¬νΈλ§ μ—΄λ©΄ λ©λ‹λ‹¤.   
μ €λ„ UDP, TCPλ§ μ‚¬μ©ν•  κ²ƒμ΄κΈ° λ•λ¬Έμ— `3478`λ§ μ—΄μ–΄λ„ λλ”λ°... νΉμ‹λ‚ μ‹¶μ–΄μ„ κ·Έλƒ¥ `5349`λ„ μ—΄μ–΄ λ†“μ•μµλ‹λ‹¤.   

**κ³µμ κΈ° ν¬νΈν¬μ›λ”©**   
![](../assets/images/2023-06-17-12-34-09.png)

**VMWare ν¬νΈν¬μ›λ”©**   
![](../assets/images/2023-06-17-12-38-58.png)

**λ°©ν™”λ²½ Port Open**
![](../assets/images/2023-06-17-12-41-52.png)

---

# Coturn μ‹μ‘   

```s
# μ‹μ‘
sudo systemctl start coturn
# μ¬μ‹μ‘
sudo systemctl restart coturn
```

```s
# μƒνƒν™•μΈ
sudo systemctl status coturn 
```

![](../assets/images/2023-06-17-11-54-27.png)

---

# ICE Server ν…μ¤νΈ   

+ **ν¬λ΅¬μ—μ„ ν…μ¤νΈ**

> ![](../assets/images/2023-06-17-13-13-32.png)
`   
Doneμ΄ λ–΄μ§€λ§,  701 μ—λ¬κ°€ λ°κ²¬ λμµλ‹λ‹¤.



+ **νμ΄μ–΄ν­μ¤μ—μ„ ν…μ¤νΈ**

>  ![](../assets/images/2023-06-17-13-32-10.png)
`   
νμ΄μ–΄ν­μ¤μ—μ„λ” μ—λ¬κ°€ λ°κ²¬ λμ§€ μ•μµλ‹λ‹¤.   


μ‹¤μ λ΅ ν¬λ΅¬μ—μ„ WebRTC P2P μ—°κ²°μ„ μ‹λ„ν•΄λ³΄λ‹ `ICE Connected`κ°€ μ™„λ£κ°€ λκ±° λ³΄λ©΄ κ΄μ°®μ€ κ²ƒ κ°™μµλ‹λ‹¤. π   

![](../assets/images/2023-06-17-13-20-04.png)

κ°κΏ€μ°΅~π


---












